group 'com.emc.ecs'
version '1.6'

buildscript {
    repositories {
        jcenter()
    }
    dependencies {
        classpath 'com.github.jengelman.gradle.plugins:shadow:1.2.3'
    }
}

apply plugin: 'java'
apply plugin: 'application'
apply plugin: 'com.github.johnrengelman.shadow'
apply plugin: 'idea'
apply plugin: 'eclipse'

mainClassName = 'BucketSizer'

sourceCompatibility = 1.7

repositories {
    mavenCentral()
}

dependencies {
    testCompile group: 'junit', name: 'junit', version: '4.11'
    //compile 'com.emc.ecs:object-client:2.0.3'
    compile 'com.amazonaws:aws-java-sdk-s3:1.10.13'
    compile 'commons-cli:commons-cli:1.4'
}

shadowJar {
    classifier ''
    manifest {
        attributes 'Main-Class': mainClassName,
                'Implementation-Version': project.version,
                'Class-Path': { configurations.runtime.collect { it.getName() }.join(' ') }
    }
}